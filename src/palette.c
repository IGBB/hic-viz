#include "palette.h"

#define RGBr(code) (((code) >> 16) & 0xFF)
#define RGBg(code) (((code) >> 8) & 0xFF)
#define RGBb(code) ((code) & 0xFF)



int * load_palette(gdImagePtr img, const int pal[] ){
    int i;
    int * colors = malloc( 256 * sizeof(int));

    for(i = 0; i < 256; i++)
        colors[i] = gdImageColorAllocate(img,
                                         RGBr(pal[i]),
                                         RGBg(pal[i]),
                                         RGBb(pal[i]));

   return colors;
}


/******************************************************************************
 * palettes from viridis R package
 ******************************************************************************/
const int magma[256] = {
0xFCFDBF, 0xFCFBBD, 0xFCF9BB, 0xFCF7B9, 0xFCF6B8, 0xFCF4B6,
0xFCF2B4, 0xFCF0B2, 0xFCEEB0, 0xFCECAE, 0xFDEBAC, 0xFDE9AA,
0xFDE7A9, 0xFDE5A7, 0xFDE3A5, 0xFDE2A3, 0xFDE0A1, 0xFDDEA0,
0xFDDC9E, 0xFDDA9C, 0xFED89A, 0xFED799, 0xFED597, 0xFED395,
0xFED194, 0xFECF92, 0xFECD90, 0xFECC8F, 0xFECA8D, 0xFEC88C,
0xFEC68A, 0xFEC488, 0xFEC287, 0xFEC185, 0xFEBF84, 0xFEBD82,
0xFEBB81, 0xFEB97F, 0xFEB77E, 0xFEB67C, 0xFEB47B, 0xFEB27A,
0xFEB078, 0xFEAE77, 0xFEAC76, 0xFEAA74, 0xFEA973, 0xFEA772,
0xFEA571, 0xFEA36F, 0xFEA16E, 0xFE9F6D, 0xFE9D6C, 0xFD9B6B,
0xFD9A6A, 0xFD9869, 0xFD9668, 0xFD9467, 0xFD9266, 0xFC9065,
0xFC8E64, 0xFC8C63, 0xFC8A62, 0xFC8961, 0xFB8761, 0xFB8560,
0xFB835F, 0xFA815F, 0xFA7F5E, 0xFA7D5E, 0xF97B5D, 0xF9795D,
0xF9785D, 0xF8765C, 0xF8745C, 0xF7725C, 0xF7705C, 0xF66E5C,
0xF66C5C, 0xF56B5C, 0xF4695C, 0xF4675C, 0xF3655C, 0xF2645C,
0xF2625D, 0xF1605D, 0xF05F5E, 0xEF5D5E, 0xEE5B5E, 0xED5A5F,
0xEC5860, 0xEB5760, 0xEA5661, 0xE95462, 0xE85362, 0xE75263,
0xE55064, 0xE44F64, 0xE34E65, 0xE24D66, 0xE04C67, 0xDF4A68,
0xDE4968, 0xDC4869, 0xDB476A, 0xD9466B, 0xD8456C, 0xD6456C,
0xD5446D, 0xD3436E, 0xD2426F, 0xD0416F, 0xCF4070, 0xCD4071,
0xCC3F71, 0xCA3E72, 0xC83E73, 0xC73D73, 0xC53C74, 0xC43C75,
0xC23B75, 0xC03A76, 0xBF3A77, 0xBD3977, 0xBC3978, 0xBA3878,
0xB83779, 0xB73779, 0xB5367A, 0xB3367A, 0xB2357B, 0xB0357B,
0xAE347B, 0xAD347C, 0xAB337C, 0xAA337D, 0xA8327D, 0xA6317D,
0xA5317E, 0xA3307E, 0xA1307E, 0xA02F7F, 0x9E2F7F, 0x9C2E7F,
0x9B2E7F, 0x992D80, 0x982D80, 0x962C80, 0x942C80, 0x932B80,
0x912B81, 0x902A81, 0x8E2A81, 0x8C2981, 0x8B2981, 0x892881,
0x882781, 0x862781, 0x842681, 0x832681, 0x812581, 0x802582,
0x7E2482, 0x7C2382, 0x7B2382, 0x792282, 0x782281, 0x762181,
0x752181, 0x732081, 0x721F81, 0x701F81, 0x6E1E81, 0x6D1D81,
0x6B1D81, 0x6A1C81, 0x681C81, 0x671B80, 0x651A80, 0x641A80,
0x621980, 0x601880, 0x5F187F, 0x5D177F, 0x5C167F, 0x5A167E,
0x59157E, 0x57157E, 0x56147D, 0x54137D, 0x52137C, 0x51127C,
0x4F127B, 0x4E117B, 0x4C117A, 0x4A1079, 0x491078, 0x471078,
0x451077, 0x440F76, 0x420F75, 0x400F74, 0x3F0F72, 0x3D0F71,
0x3B0F70, 0x390F6E, 0x38106C, 0x36106B, 0x341069, 0x331067,
0x311165, 0x2F1163, 0x2D1161, 0x2C115F, 0x2A115C, 0x29115A,
0x271258, 0x251255, 0x241253, 0x221150, 0x21114E, 0x20114B,
0x1E1149, 0x1D1147, 0x1C1044, 0x1A1042, 0x19103F, 0x180F3D,
0x160F3B, 0x150E38, 0x140E36, 0x130D34, 0x120D31, 0x110C2F,
0x100B2D, 0x0E0B2B, 0x0D0A29, 0x0C0926, 0x0B0924, 0x0A0822,
0x090720, 0x08071E, 0x07061C, 0x06051A, 0x060518, 0x050416,
0x040414, 0x030312, 0x03030F, 0x02020D, 0x02020B, 0x020109,
0x010108, 0x010106, 0x010005, 0x000004
};

const int inferno[256] = {
0xFCFFA4, 0xFAFDA1, 0xF9FC9D, 0xF8FB9A, 0xF6FA96, 0xF5F992,
0xF4F88E, 0xF3F68A, 0xF3F586, 0xF2F482, 0xF2F27D, 0xF1F179,
0xF1EF75, 0xF1ED71, 0xF1EC6D, 0xF2EA69, 0xF2E865, 0xF2E661,
0xF3E55D, 0xF3E35A, 0xF4E156, 0xF4DF53, 0xF4DD4F, 0xF5DB4C,
0xF5D949, 0xF6D746, 0xF6D543, 0xF7D340, 0xF7D13D, 0xF8CF3A,
0xF8CD37, 0xF9CB35, 0xF9C932, 0xF9C72F, 0xFAC62D, 0xFAC42A,
0xFAC228, 0xFAC026, 0xFBBE23, 0xFBBC21, 0xFBBA1F, 0xFBB81D,
0xFBB61A, 0xFCB418, 0xFCB216, 0xFCB014, 0xFCAE12, 0xFCAC11,
0xFCAA0F, 0xFCA80D, 0xFCA60C, 0xFCA50A, 0xFCA309, 0xFCA108,
0xFC9F07, 0xFB9D07, 0xFB9B06, 0xFB9906, 0xFB9706, 0xFB9606,
0xFA9407, 0xFA9207, 0xFA9008, 0xF98E09, 0xF98C0A, 0xF98B0B,
0xF8890C, 0xF8870E, 0xF8850F, 0xF78410, 0xF78212, 0xF68013,
0xF67E14, 0xF57D15, 0xF57B17, 0xF47918, 0xF37819, 0xF3761B,
0xF2741C, 0xF1731D, 0xF1711F, 0xF06F20, 0xEF6E21, 0xEF6C23,
0xEE6A24, 0xED6925, 0xEC6726, 0xEB6628, 0xEB6429, 0xEA632A,
0xE9612B, 0xE8602D, 0xE75E2E, 0xE65D2F, 0xE55C30, 0xE45A31,
0xE35933, 0xE25734, 0xE15635, 0xE05536, 0xDF5337, 0xDE5238,
0xDD513A, 0xDB503B, 0xDA4E3C, 0xD94D3D, 0xD84C3E, 0xD74B3F,
0xD54A41, 0xD44842, 0xD34743, 0xD24644, 0xD04545, 0xCF4446,
0xCE4347, 0xCC4248, 0xCB4149, 0xCA404A, 0xC83F4B, 0xC73E4C,
0xC63D4D, 0xC43C4E, 0xC33B4F, 0xC13A50, 0xC03A51, 0xBF3952,
0xBD3853, 0xBC3754, 0xBA3655, 0xB93556, 0xB73557, 0xB63458,
0xB43359, 0xB3325A, 0xB1325A, 0xB0315B, 0xAE305C, 0xAD305D,
0xAB2F5E, 0xA92E5E, 0xA82E5F, 0xA62D60, 0xA52C60, 0xA32C61,
0xA22B62, 0xA02A63, 0x9F2A63, 0x9D2964, 0x9B2964, 0x9A2865,
0x982766, 0x972766, 0x952667, 0x932667, 0x922568, 0x902568,
0x8F2469, 0x8D2369, 0x8C2369, 0x8A226A, 0x88226A, 0x87216B,
0x85216B, 0x84206B, 0x82206C, 0x801F6C, 0x7F1E6C, 0x7D1E6D,
0x7C1D6D, 0x7A1D6D, 0x781C6D, 0x771C6D, 0x751B6E, 0x741A6E,
0x721A6E, 0x71196E, 0x6F196E, 0x6D186E, 0x6C186E, 0x6A176E,
0x69166E, 0x67166E, 0x65156E, 0x64156E, 0x62146E, 0x61136E,
0x5F136E, 0x5D126E, 0x5C126E, 0x5A116E, 0x59106E, 0x57106E,
0x550F6D, 0x540F6D, 0x520E6D, 0x510E6C, 0x4F0D6C, 0x4D0D6C,
0x4C0C6B, 0x4A0C6B, 0x490B6A, 0x470B6A, 0x450A69, 0x440A68,
0x420A68, 0x400A67, 0x3E0966, 0x3D0965, 0x3B0964, 0x390963,
0x380962, 0x360961, 0x340A5F, 0x320A5E, 0x310A5C, 0x2F0A5B,
0x2D0B59, 0x2B0B57, 0x290B55, 0x280B53, 0x260C51, 0x240C4F,
0x230C4C, 0x210C4A, 0x1F0C48, 0x1E0C45, 0x1C0C43, 0x1B0C41,
0x190C3E, 0x180C3C, 0x160B39, 0x150B37, 0x140B34, 0x120A32,
0x110A30, 0x10092D, 0x0E092B, 0x0D0829, 0x0C0826, 0x0B0724,
0x0A0722, 0x09061F, 0x08051D, 0x07051B, 0x060419, 0x050417,
0x040314, 0x040312, 0x030210, 0x02020E, 0x02020C, 0x02010A,
0x010108, 0x010106, 0x010005, 0x000004
};
const int mako[256] = {
0xDEF5E5, 0xDCF4E3, 0xDAF3E1, 0xD8F2E0, 0xD6F1DE, 0xD4F1DC,
0xD2F0DB, 0xD0EFD9, 0xCEEED7, 0xCCEDD6, 0xCAEDD4, 0xC8ECD2,
0xC6EBD1, 0xC4EACF, 0xC2E9CD, 0xC0E9CC, 0xBEE8CA, 0xBBE7C8,
0xB9E6C7, 0xB7E6C5, 0xB5E5C4, 0xB2E4C2, 0xB0E4C1, 0xAEE3C0,
0xABE2BE, 0xA9E1BD, 0xA6E1BC, 0xA4E0BB, 0xA1DFB9, 0x9EDFB8,
0x9CDEB7, 0x99DDB6, 0x96DDB5, 0x94DCB5, 0x91DBB4, 0x8EDBB3,
0x8BDAB2, 0x88D9B1, 0x85D9B1, 0x82D8B0, 0x7FD7AF, 0x7CD6AF,
0x79D6AE, 0x76D5AE, 0x73D4AD, 0x70D4AD, 0x6DD3AD, 0x6AD2AD,
0x68D1AD, 0x65D0AD, 0x62CFAC, 0x60CEAC, 0x5ECDAD, 0x5BCDAD,
0x59CCAD, 0x57CBAD, 0x55CAAD, 0x53C9AD, 0x52C7AD, 0x50C6AD,
0x4FC5AD, 0x4DC4AD, 0x4CC3AD, 0x4BC2AD, 0x49C1AD, 0x48C0AD,
0x47BFAD, 0x46BEAD, 0x45BDAD, 0x44BCAD, 0x43BAAD, 0x42B9AD,
0x41B8AD, 0x40B7AD, 0x3FB6AD, 0x3FB5AD, 0x3EB4AD, 0x3DB3AD,
0x3CB2AD, 0x3CB1AD, 0x3BAFAD, 0x3AAEAD, 0x3AADAC, 0x39ACAC,
0x39ABAC, 0x38AAAC, 0x38A9AC, 0x37A8AC, 0x37A6AC, 0x37A5AC,
0x36A4AB, 0x36A3AB, 0x36A2AB, 0x35A1AB, 0x35A0AB, 0x359FAB,
0x359EAA, 0x359CAA, 0x359BAA, 0x349AAA, 0x3499AA, 0x3498A9,
0x3497A9, 0x3496A9, 0x3495A9, 0x3493A8, 0x3492A8, 0x3491A8,
0x3490A8, 0x348FA7, 0x348EA7, 0x348DA7, 0x348CA7, 0x348BA6,
0x3489A6, 0x3488A6, 0x3487A6, 0x3486A5, 0x3485A5, 0x3484A5,
0x3483A5, 0x3482A4, 0x3480A4, 0x347FA4, 0x357EA4, 0x357DA3,
0x357CA3, 0x357BA3, 0x357AA2, 0x3579A2, 0x3578A2, 0x3576A2,
0x3575A1, 0x3574A1, 0x3573A1, 0x3572A1, 0x3671A0, 0x3670A0,
0x366FA0, 0x366DA0, 0x366CA0, 0x366B9F, 0x366A9F, 0x36699F,
0x37689F, 0x37669E, 0x37659E, 0x37649E, 0x38639D, 0x38629D,
0x38619D, 0x385F9C, 0x395E9C, 0x395D9C, 0x3A5C9B, 0x3A5B9B,
0x3A599A, 0x3B589A, 0x3B5799, 0x3B5698, 0x3C5598, 0x3C5397,
0x3D5296, 0x3D5195, 0x3E5095, 0x3E4F94, 0x3E4D93, 0x3F4C92,
0x3F4B90, 0x3F4A8F, 0x40498E, 0x40488D, 0x40478B, 0x40468A,
0x414488, 0x414387, 0x414285, 0x414184, 0x414082, 0x413F80,
0x413E7F, 0x413E7D, 0x413D7B, 0x403C79, 0x403B78, 0x403A76,
0x403974, 0x403872, 0x3F3770, 0x3F366F, 0x3F366D, 0x3E356B,
0x3E3469, 0x3E3367, 0x3D3266, 0x3D3164, 0x3C3162, 0x3C3060,
0x3B2F5F, 0x3B2E5D, 0x3B2D5B, 0x3A2C59, 0x3A2C58, 0x392B56,
0x382A54, 0x382953, 0x372851, 0x37284F, 0x36274D, 0x35264C,
0x35254A, 0x342548, 0x342447, 0x332345, 0x322243, 0x312142,
0x312140, 0x30203E, 0x2F1F3D, 0x2E1E3B, 0x2E1E39, 0x2D1D38,
0x2C1C36, 0x2B1C35, 0x2A1B33, 0x291A31, 0x291930, 0x28192E,
0x27182D, 0x26172B, 0x251729, 0x241628, 0x231526, 0x221425,
0x211423, 0x201322, 0x1F1220, 0x1E111F, 0x1D111D, 0x1C101C,
0x1B0F1A, 0x1A0E19, 0x190E18, 0x180D16, 0x170C15, 0x160B13,
0x150A12, 0x140910, 0x13090F, 0x12080D, 0x11070C, 0x10060A,
0x0F0609, 0x0E0508, 0x0D0406, 0x0B0405
};
const int rocket[256] = {
0xFAEBDD, 0xFAE9DA, 0xFAE8D8, 0xFAE6D6, 0xF9E5D4, 0xF9E3D2,
0xF9E2D0, 0xF9E0CD, 0xF9DFCB, 0xF9DDC9, 0xF8DCC7, 0xF8DAC5,
0xF8D9C3, 0xF8D7C0, 0xF8D6BE, 0xF8D4BC, 0xF8D3BA, 0xF8D1B8,
0xF7D0B5, 0xF7CFB3, 0xF7CDB1, 0xF7CCAF, 0xF7CAAC, 0xF7C9AA,
0xF7C7A8, 0xF7C6A6, 0xF7C4A4, 0xF7C2A2, 0xF6C19F, 0xF6BF9D,
0xF6BE9B, 0xF6BC99, 0xF6BB97, 0xF6B995, 0xF6B893, 0xF6B691,
0xF6B48F, 0xF6B38D, 0xF6B18B, 0xF6B089, 0xF6AE87, 0xF6AD85,
0xF6AB83, 0xF6A981, 0xF6A880, 0xF6A67E, 0xF6A47C, 0xF6A37A,
0xF6A178, 0xF6A077, 0xF69E75, 0xF69C73, 0xF69B71, 0xF59970,
0xF5976E, 0xF5966C, 0xF5946B, 0xF59269, 0xF59067, 0xF58F66,
0xF58D64, 0xF58B63, 0xF58A61, 0xF58860, 0xF4865E, 0xF4845D,
0xF4835B, 0xF4815A, 0xF47F58, 0xF47D57, 0xF47C55, 0xF47A54,
0xF37852, 0xF37651, 0xF37450, 0xF3734E, 0xF3714D, 0xF26F4C,
0xF26D4B, 0xF26B49, 0xF26948, 0xF26747, 0xF16646, 0xF16445,
0xF16244, 0xF06043, 0xF05E42, 0xF05C42, 0xEF5A41, 0xEF5840,
0xEF5640, 0xEE543F, 0xEE523F, 0xED503E, 0xED4E3E, 0xEC4C3E,
0xEC4A3E, 0xEB483E, 0xEB463E, 0xEA443E, 0xE9423E, 0xE8403E,
0xE83F3F, 0xE73D3F, 0xE63B40, 0xE53940, 0xE43841, 0xE33641,
0xE23442, 0xE13342, 0xE03143, 0xDF2F44, 0xDE2E44, 0xDD2C45,
0xDC2B46, 0xDB2946, 0xD92847, 0xD82748, 0xD72549, 0xD62449,
0xD5224A, 0xD3214B, 0xD2204C, 0xD11F4C, 0xCF1E4D, 0xCE1D4E,
0xCD1C4E, 0xCB1B4F, 0xCA1A50, 0xC81951, 0xC71951, 0xC51852,
0xC41753, 0xC21753, 0xC11754, 0xBF1654, 0xBD1655, 0xBC1656,
0xBA1656, 0xB91657, 0xB71657, 0xB51657, 0xB41658, 0xB21758,
0xB01759, 0xAF1759, 0xAD1759, 0xAB185A, 0xAA185A, 0xA8185A,
0xA6195A, 0xA4195B, 0xA3195B, 0xA11A5B, 0x9F1A5B, 0x9E1A5B,
0x9C1B5B, 0x9A1B5B, 0x981B5B, 0x971C5B, 0x951C5B, 0x931C5B,
0x921C5B, 0x901D5B, 0x8E1D5B, 0x8C1D5B, 0x8B1D5B, 0x891E5B,
0x871E5B, 0x861E5B, 0x841E5A, 0x821E5A, 0x811E5A, 0x7F1E5A,
0x7D1F5A, 0x7B1F59, 0x7A1F59, 0x781F59, 0x761F58, 0x751F58,
0x731F58, 0x711F57, 0x701F57, 0x6E1F57, 0x6D1F56, 0x6B1F56,
0x691F55, 0x681F55, 0x661F54, 0x641F54, 0x631F53, 0x611F53,
0x601F52, 0x5E1F52, 0x5C1E51, 0x5B1E51, 0x591E50, 0x581E4F,
0x561E4F, 0x541E4E, 0x531E4D, 0x511E4D, 0x501D4C, 0x4E1D4B,
0x4C1D4B, 0x4B1D4A, 0x491D49, 0x481C48, 0x461C48, 0x451C47,
0x431C46, 0x421B45, 0x401B44, 0x3F1B43, 0x3D1A42, 0x3C1A42,
0x3A1A41, 0x381A40, 0x37193F, 0x35193E, 0x34193D, 0x33183C,
0x31183B, 0x30173A, 0x2E1739, 0x2D1738, 0x2B1637, 0x2A1636,
0x281535, 0x271534, 0x251433, 0x241432, 0x221331, 0x211330,
0x20122E, 0x1E122D, 0x1D112C, 0x1B112B, 0x1A102A, 0x180F29,
0x170F28, 0x160E27, 0x140E26, 0x130D25, 0x110C24, 0x100B23,
0x0E0B22, 0x0D0A21, 0x0B0920, 0x0A091F, 0x08081E, 0x07071D,
0x06071C, 0x05061B, 0x04051A, 0x03051A
};
